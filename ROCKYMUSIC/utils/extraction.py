# ===========================================================
# Â©ï¸ 2025-26 All Rights Reserved by Team rocky (Im-Notcoder) ğŸš€
# 
# This source code is under MIT License ğŸ“œ
# âŒ Unauthorized forking, importing, or using this code
#Â Â Â  without giving proper credit will result in legal action âš ï¸
# 
# ğŸ“© DM for permission : @MrRrockytg
# ===========================================================

from pyrogram.enums import MessageEntityType
from pyrogram.types import Message, User

from ROCKYMUSIC import app


async def extract_user(m: Message) -> User:
    if m.reply_to_message:
        return m.reply_to_message.from_user
    msg_entities = m.entities[1] if m.text.startswith("/") else m.entities[0]
    return await app.get_users(
        msg_entities.user.id
        if msg_entities.type == MessageEntityType.TEXT_MENTION
        else int(m.command[1])
        if m.command[1].isdecimal()
        else m.command[1]
    )

# ===========================================================
# Â©ï¸ 2025-26 All Rights Reserved by Team Rocky (Im-Notcoder) ğŸ˜
# 
# ğŸ§‘â€ğŸ’» Developer : t.me/mrrockytg
# ğŸ”— Source link : t.me/rockyxsupport
# ğŸ“¢ Telegram channel : t.me/rockyxupdate
# ===========================================================
